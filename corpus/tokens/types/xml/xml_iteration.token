(import 6 0x00 ())
(ident, "ballerina" 9 0x00 ())
(/ 1 0x00 ())
(ident, "lang" 4 0x00 ())
(. 1 0x00 ())
(ident, "'int" 4 0x00 ())
(as 2 0x00 ())
(ident, "intlib" 6 0x00 ())
(; 1 0x00 ())
(xml 3 0x00 ())
(ident, "bookstore" 9 0x00 ())
(= 1 0x00 ())
(xml 3 0x00 ())
(` 1 0x00 ())
(templateString, "<bookstore>
                        <book category="cooking">
                            <title lang="en">Everyday Italian</title>
                            <author>Giada De Laurentiis</author>
                            <year>2005</year>
                            <price>30.00</price>
                        </book>
                        <book category="children">
                            <title lang="en">Harry Potter</title>
                            <author>J. K. Rowling</author>
                            <year>2005</year>
                            <price>29.99</price>
                        </book>
                        <book category="web">
                            <title lang="en">XQuery Kick Start</title>
                            <author>James McGovern</author>
                            <author>Per Bothner</author>
                            <author>Kurt Cagle</author>
                            <author>James Linn</author>
                            <author>Vaidyanathan Nagarajan</author>
                            <year>2003</year>
                            <price>49.99</price>
                        </book>
                        <book category="web" cover="paperback">
                            <title lang="en">Learning XML</title>
                            <author>Erik T. Ray</author>
                            <year>2003</year>
                            <price>39.95</price>
                        </book>
                    </bookstore>" 1514 0x00 ())
(` 1 0x00 ())
(; 1 0x00 ())
(string 6 0x00 ())
([ 1 0x00 ())
(] 1 0x00 ())
(ident, "titles" 6 0x00 ())
(= 1 0x00 ())
([ 1 0x00 ())
(string, ""Everyday Italian"" 18 0x00 ())
(, 1 0x00 ())
(string, ""Harry Potter"" 14 0x00 ())
(, 1 0x00 ())
(string, ""XQuery Kick Start"" 19 0x00 ())
(, 1 0x00 ())
(string, ""Learning XML"" 14 0x00 ())
(] 1 0x00 ())
(; 1 0x00 ())
(string 6 0x00 ())
([ 1 0x00 ())
(] 1 0x00 ())
(ident, "titlesOrigin" 12 0x00 ())
(= 1 0x00 ())
([ 1 0x00 ())
(string, ""<root>interpolation1 text1 text2<foo>123</foo><bar/></root>"" 61 0x00 ())
(, 1 0x00 ())
(string, ""text2interpolation1"" 21 0x00 ())
(, 1 0x00 ())
(string, ""<!--commentinterpolation1-->"" 30 0x00 ())
(, 1 0x00 ())
(string, ""text3"" 7 0x00 ())
(, 1 0x00 ())
(string, ""<?foo ?>"" 10 0x00 ())
(] 1 0x00 ())
(; 1 0x00 ())
(function 8 0x00 ())
(ident, "foreachTest" 11 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
({ 1 0x00 ())
(int 3 0x00 ())
(ident, "i" 1 0x00 ())
(= 1 0x00 ())
(int, "0" 1 0x00 ())
(; 1 0x00 ())
(foreach 7 0x00 ())
(var 3 0x00 ())
(ident, "x" 1 0x00 ())
(in 2 0x00 ())
(ident, "bookstore" 9 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "book" 4 0x00 ())
(> 1 0x00 ())
({ 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(( 1 0x00 ())
(ident, "x" 1 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "title" 5 0x00 ())
(> 1 0x00 ())
(/* 2 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(, 1 0x00 ())
(ident, "titles" 6 0x00 ())
([ 1 0x00 ())
(ident, "i" 1 0x00 ())
(] 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "i" 1 0x00 ())
(+ 1 0x00 ())
(= 1 0x00 ())
(int, "1" 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(ident, "i" 1 0x00 ())
(= 1 0x00 ())
(int, "0" 1 0x00 ())
(; 1 0x00 ())
(string 6 0x00 ())
(ident, "v1" 2 0x00 ())
(= 1 0x00 ())
(string, ""interpolation1"" 16 0x00 ())
(; 1 0x00 ())
(xml 3 0x00 ())
(ident, "seq" 3 0x00 ())
(= 1 0x00 ())
(xml 3 0x00 ())
(` 1 0x00 ())
(templateString, "<root>" 6 0x00 ())
(${ 2 0x00 ())
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(templateString, " text1 text2<foo>123</foo><bar></bar></root>text2" 49 0x00 ())
(${ 2 0x00 ())
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(templateString, "<!--comment" 11 0x00 ())
(${ 2 0x00 ())
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(templateString, "-->text3<?foo?>" 15 0x00 ())
(` 1 0x00 ())
(; 1 0x00 ())
(foreach 7 0x00 ())
(var 3 0x00 ())
(ident, "x" 1 0x00 ())
(in 2 0x00 ())
(ident, "seq" 3 0x00 ())
({ 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(ident, "x" 1 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(, 1 0x00 ())
(ident, "titlesOrigin" 12 0x00 ())
([ 1 0x00 ())
(ident, "i" 1 0x00 ())
(] 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "i" 1 0x00 ())
(+ 1 0x00 ())
(= 1 0x00 ())
(int, "1" 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(} 1 0x00 ())
(function 8 0x00 ())
(ident, "foreachOpTest" 13 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
({ 1 0x00 ())
(int 3 0x00 ())
(ident, "i" 1 0x00 ())
(= 1 0x00 ())
(int, "0" 1 0x00 ())
(; 1 0x00 ())
(( 1 0x00 ())
(ident, "bookstore" 9 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "book" 4 0x00 ())
(> 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "forEach" 7 0x00 ())
(( 1 0x00 ())
(function 8 0x00 ())
(( 1 0x00 ())
(xml 3 0x00 ())
(ident, "entry" 5 0x00 ())
() 1 0x00 ())
({ 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(( 1 0x00 ())
(ident, "entry" 5 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "title" 5 0x00 ())
(> 1 0x00 ())
(/* 2 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(, 1 0x00 ())
(ident, "titles" 6 0x00 ())
([ 1 0x00 ())
(ident, "i" 1 0x00 ())
(] 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "i" 1 0x00 ())
(+ 1 0x00 ())
(= 1 0x00 ())
(int, "1" 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "i" 1 0x00 ())
(= 1 0x00 ())
(int, "0" 1 0x00 ())
(; 1 0x00 ())
(string 6 0x00 ())
(ident, "v1" 2 0x00 ())
(= 1 0x00 ())
(string, ""interpolation1"" 16 0x00 ())
(; 1 0x00 ())
(xml 3 0x00 ())
(ident, "seq" 3 0x00 ())
(= 1 0x00 ())
(xml 3 0x00 ())
(` 1 0x00 ())
(templateString, "<root>" 6 0x00 ())
(${ 2 0x00 ())
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(templateString, " text1 text2<foo>123</foo><bar></bar></root>text2" 49 0x00 ())
(${ 2 0x00 ())
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(templateString, "<!--comment" 11 0x00 ())
(${ 2 0x00 ())
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(templateString, "-->text3<?foo?>" 15 0x00 ())
(` 1 0x00 ())
(; 1 0x00 ())
(ident, "seq" 3 0x00 ())
(. 1 0x00 ())
(ident, "forEach" 7 0x00 ())
(( 1 0x00 ())
(function 8 0x00 ())
(( 1 0x00 ())
(xml 3 0x00 ())
(ident, "entry" 5 0x00 ())
() 1 0x00 ())
({ 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(ident, "entry" 5 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(, 1 0x00 ())
(ident, "titlesOrigin" 12 0x00 ())
([ 1 0x00 ())
(ident, "i" 1 0x00 ())
(] 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "i" 1 0x00 ())
(+ 1 0x00 ())
(= 1 0x00 ())
(int, "1" 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(function 8 0x00 ())
(ident, "mapOpTest" 9 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
({ 1 0x00 ())
(string 6 0x00 ())
(ident, "authors" 7 0x00 ())
(= 1 0x00 ())
(string, ""<author>Giada De Laurentiis</author><author>J. K. Rowling</author><author>James McGovern</author>"" 99 0x00 ())
(+ 1 0x00 ())
(string, ""<author>Per Bothner</author><author>Kurt Cagle</author><author>James Linn</author><author>Vaidyanathan Nagarajan"" 114 0x00 ())
(+ 1 0x00 ())
(string, ""</author><author>Erik T. Ray</author>"" 39 0x00 ())
(; 1 0x00 ())
(xml 3 0x00 ())
(ident, "titles" 6 0x00 ())
(= 1 0x00 ())
(( 1 0x00 ())
(ident, "bookstore" 9 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "book" 4 0x00 ())
(> 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(map 3 0x00 ())
(( 1 0x00 ())
(function 8 0x00 ())
(( 1 0x00 ())
(xml 3 0x00 ())
(ident, "book" 4 0x00 ())
() 1 0x00 ())
(returns 7 0x00 ())
(xml 3 0x00 ())
({ 1 0x00 ())
(return 6 0x00 ())
(ident, "book" 4 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "author" 6 0x00 ())
(> 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(ident, "titles" 6 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(, 1 0x00 ())
(ident, "authors" 7 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(string 6 0x00 ())
(ident, "v1" 2 0x00 ())
(= 1 0x00 ())
(string, ""interpolation1"" 16 0x00 ())
(; 1 0x00 ())
(xml 3 0x00 ())
(ident, "seq" 3 0x00 ())
(= 1 0x00 ())
(xml 3 0x00 ())
(` 1 0x00 ())
(templateString, "<root>" 6 0x00 ())
(${ 2 0x00 ())
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(templateString, " text1 text2<foo>123</foo><bar></bar></root>text2" 49 0x00 ())
(${ 2 0x00 ())
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(templateString, "<!--comment" 11 0x00 ())
(${ 2 0x00 ())
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(templateString, "-->text3<?foo?>" 15 0x00 ())
(` 1 0x00 ())
(; 1 0x00 ())
(xml 3 0x00 ())
(ident, "elementChildren" 15 0x00 ())
(= 1 0x00 ())
(ident, "seq" 3 0x00 ())
([ 1 0x00 ())
(int, "0" 1 0x00 ())
(] 1 0x00 ())
(. 1 0x00 ())
(map 3 0x00 ())
(( 1 0x00 ())
(function 8 0x00 ())
(( 1 0x00 ())
(xml 3 0x00 ())
(ident, "root" 4 0x00 ())
() 1 0x00 ())
(returns 7 0x00 ())
(xml 3 0x00 ())
({ 1 0x00 ())
(return 6 0x00 ())
(ident, "root" 4 0x00 ())
(/* 2 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(ident, "elementChildren" 15 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(, 1 0x00 ())
(string, ""interpolation1 text1 text2<foo>123</foo><bar/>"" 48 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(function 8 0x00 ())
(ident, "filterOpTest" 12 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
({ 1 0x00 ())
(xml 3 0x00 ())
(ident, "books" 5 0x00 ())
(= 1 0x00 ())
(( 1 0x00 ())
(ident, "bookstore" 9 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "book" 4 0x00 ())
(> 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "filter" 6 0x00 ())
(( 1 0x00 ())
(function 8 0x00 ())
(( 1 0x00 ())
(xml 3 0x00 ())
(ident, "book" 4 0x00 ())
() 1 0x00 ())
(returns 7 0x00 ())
(boolean 7 0x00 ())
({ 1 0x00 ())
(var 3 0x00 ())
(ident, "result" 6 0x00 ())
(= 1 0x00 ())
(ident, "intlib" 6 0x00 ())
(: 1 0x00 ())
(ident, "fromString" 10 0x00 ())
(( 1 0x00 ())
(( 1 0x00 ())
(ident, "book" 4 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "year" 4 0x00 ())
(> 1 0x00 ())
(/* 2 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(if 2 0x00 ())
(( 1 0x00 ())
(ident, "result" 6 0x00 ())
(is 2 0x00 ())
(int 3 0x00 ())
() 1 0x00 ())
({ 1 0x00 ())
(return 6 0x00 ())
(ident, "result" 6 0x00 ())
(> 1 0x00 ())
(int, "2004" 4 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(else 4 0x00 ())
({ 1 0x00 ())
(return 6 0x00 ())
(false 5 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(} 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(map 3 0x00 ())
(( 1 0x00 ())
(function 8 0x00 ())
(( 1 0x00 ())
(xml 3 0x00 ())
(ident, "value" 5 0x00 ())
() 1 0x00 ())
(returns 7 0x00 ())
(xml 3 0x00 ())
({ 1 0x00 ())
(return 6 0x00 ())
(ident, "value" 5 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(( 1 0x00 ())
(ident, "books" 5 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "title" 5 0x00 ())
(> 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(, 1 0x00 ())
(string, ""<title lang=\"en\">Everyday Italian</title><title lang=\"en\">Harry Potter</title>"" 84 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(( 1 0x00 ())
(ident, "books" 5 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "author" 6 0x00 ())
(> 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(, 1 0x00 ())
(string, ""<author>Giada De Laurentiis</author><author>J. K. Rowling</author>"" 68 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(( 1 0x00 ())
(ident, "books" 5 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "year" 4 0x00 ())
(> 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(, 1 0x00 ())
(string, ""<year>2005</year><year>2005</year>"" 36 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(( 1 0x00 ())
(ident, "books" 5 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "price" 5 0x00 ())
(> 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(, 1 0x00 ())
(string, ""<price>30.00</price><price>29.99</price>"" 42 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(string 6 0x00 ())
(ident, "v1" 2 0x00 ())
(= 1 0x00 ())
(string, ""interpolation1"" 16 0x00 ())
(; 1 0x00 ())
(xml 3 0x00 ())
(ident, "seq" 3 0x00 ())
(= 1 0x00 ())
(xml 3 0x00 ())
(` 1 0x00 ())
(templateString, "<root>" 6 0x00 ())
(${ 2 0x00 ())
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(templateString, " text1<foo>100</foo><foo>200</foo></root>text2" 46 0x00 ())
(${ 2 0x00 ())
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(templateString, "<!--comment" 11 0x00 ())
(${ 2 0x00 ())
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(templateString, "--><?foo?>" 10 0x00 ())
(` 1 0x00 ())
(; 1 0x00 ())
(xml 3 0x00 ())
(ident, "elements" 8 0x00 ())
(= 1 0x00 ())
(ident, "seq" 3 0x00 ())
([ 1 0x00 ())
(int, "0" 1 0x00 ())
(] 1 0x00 ())
(; 1 0x00 ())
(xml 3 0x00 ())
(ident, "elementChildren" 15 0x00 ())
(= 1 0x00 ())
(( 1 0x00 ())
(ident, "elements" 8 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "filter" 6 0x00 ())
(( 1 0x00 ())
(function 8 0x00 ())
(( 1 0x00 ())
(xml 3 0x00 ())
(ident, "foo" 3 0x00 ())
() 1 0x00 ())
(returns 7 0x00 ())
(boolean 7 0x00 ())
({ 1 0x00 ())
(var 3 0x00 ())
(ident, "result" 6 0x00 ())
(= 1 0x00 ())
(ident, "intlib" 6 0x00 ())
(: 1 0x00 ())
(ident, "fromString" 10 0x00 ())
(( 1 0x00 ())
(( 1 0x00 ())
(ident, "foo" 3 0x00 ())
(/* 2 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(if 2 0x00 ())
(( 1 0x00 ())
(ident, "result" 6 0x00 ())
(is 2 0x00 ())
(int 3 0x00 ())
() 1 0x00 ())
({ 1 0x00 ())
(return 6 0x00 ())
(ident, "result" 6 0x00 ())
(> 1 0x00 ())
(int, "100" 3 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(else 4 0x00 ())
({ 1 0x00 ())
(return 6 0x00 ())
(false 5 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(} 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(map 3 0x00 ())
(( 1 0x00 ())
(function 8 0x00 ())
(( 1 0x00 ())
(xml 3 0x00 ())
(ident, "value" 5 0x00 ())
() 1 0x00 ())
(returns 7 0x00 ())
(xml 3 0x00 ())
({ 1 0x00 ())
(return 6 0x00 ())
(ident, "value" 5 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(ident, "elementChildren" 15 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(, 1 0x00 ())
(string, ""<foo>200</foo>"" 16 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(function 8 0x00 ())
(ident, "chainedIterableOps" 18 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(returns 7 0x00 ())
(xml 3 0x00 ())
({ 1 0x00 ())
(xml 3 0x00 ())
(ident, "authors" 7 0x00 ())
(= 1 0x00 ())
(( 1 0x00 ())
(ident, "bookstore" 9 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "book" 4 0x00 ())
(> 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "filter" 6 0x00 ())
(( 1 0x00 ())
(function 8 0x00 ())
(( 1 0x00 ())
(xml 3 0x00 ())
(ident, "book" 4 0x00 ())
() 1 0x00 ())
(returns 7 0x00 ())
(boolean 7 0x00 ())
({ 1 0x00 ())
(var 3 0x00 ())
(ident, "result" 6 0x00 ())
(= 1 0x00 ())
(ident, "intlib" 6 0x00 ())
(: 1 0x00 ())
(ident, "fromString" 10 0x00 ())
(( 1 0x00 ())
(( 1 0x00 ())
(ident, "book" 4 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "year" 4 0x00 ())
(> 1 0x00 ())
(/* 2 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(if 2 0x00 ())
(( 1 0x00 ())
(ident, "result" 6 0x00 ())
(is 2 0x00 ())
(int 3 0x00 ())
() 1 0x00 ())
({ 1 0x00 ())
(return 6 0x00 ())
(ident, "result" 6 0x00 ())
(> 1 0x00 ())
(int, "2004" 4 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(else 4 0x00 ())
({ 1 0x00 ())
(return 6 0x00 ())
(false 5 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(} 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(map 3 0x00 ())
(( 1 0x00 ())
(function 8 0x00 ())
(( 1 0x00 ())
(xml 3 0x00 ())
(ident, "book" 4 0x00 ())
() 1 0x00 ())
(returns 7 0x00 ())
(xml 3 0x00 ())
({ 1 0x00 ())
(return 6 0x00 ())
(ident, "book" 4 0x00 ())
(/ 1 0x00 ())
(< 1 0x00 ())
(ident, "author" 6 0x00 ())
(> 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(return 6 0x00 ())
(ident, "authors" 7 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(xml 3 0x00 ())
(ident, "theXml" 6 0x00 ())
(= 1 0x00 ())
(xml 3 0x00 ())
(` 1 0x00 ())
(templateString, "<book>the book</book>" 21 0x00 ())
(` 1 0x00 ())
(; 1 0x00 ())
(xml 3 0x00 ())
(ident, "bitOfText" 9 0x00 ())
(= 1 0x00 ())
(xml 3 0x00 ())
(` 1 0x00 ())
(templateString, "bit of text\u2702\u2705" 23 0x00 ())
(` 1 0x00 ())
(; 1 0x00 ())
(xml 3 0x00 ())
(ident, "compositeXml" 12 0x00 ())
(= 1 0x00 ())
(ident, "theXml" 6 0x00 ())
(+ 1 0x00 ())
(ident, "bitOfText" 9 0x00 ())
(; 1 0x00 ())
(string 6 0x00 ())
(ident, "output" 6 0x00 ())
(= 1 0x00 ())
(string, """" 2 0x00 ())
(; 1 0x00 ())
(xml 3 0x00 ())
(ident, "xdata" 5 0x00 ())
(= 1 0x00 ())
(xml 3 0x00 ())
(` 1 0x00 ())
(templateString, "<p:person xmlns:p="foo" xmlns:q="bar">
        <p:name>bob</p:name>
        <p:address>
            <p:city>NY</p:city>
            <q:country>US</q:country>
        </p:address>
        <q:ID>1131313</q:ID>
    </p:person>" 223 0x00 ())
(` 1 0x00 ())
(; 1 0x00 ())
(function 8 0x00 ())
(ident, "concatString" 12 0x00 ())
(( 1 0x00 ())
(string 6 0x00 ())
(ident, "v" 1 0x00 ())
() 1 0x00 ())
({ 1 0x00 ())
(ident, "output" 6 0x00 ())
(+ 1 0x00 ())
(= 1 0x00 ())
(ident, "v" 1 0x00 ())
(+ 1 0x00 ())
(string, """ 1 0x00 ())
(ident, "\n" 2 0x00 (BCE0649 n))
(string, "";" 2 0x00 ())
(} 1 0x00 ())
(function 8 0x00 ())
(ident, "xmlSequenceIter" 15 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(returns 7 0x00 ())
(string 6 0x00 ())
({ 1 0x00 ())
(ident, "output" 6 0x00 ())
(= 1 0x00 ())
(string, """" 2 0x00 ())
(; 1 0x00 ())
(foreach 7 0x00 ())
(xml 3 0x00 ())
(ident, "elem" 4 0x00 ())
(in 2 0x00 ())
(ident, "compositeXml" 12 0x00 ())
({ 1 0x00 ())
(ident, "concatString" 12 0x00 ())
(( 1 0x00 ())
(ident, "elem" 4 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(return 6 0x00 ())
(ident, "output" 6 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(function 8 0x00 ())
(ident, "xmlCharItemIter" 15 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(returns 7 0x00 ())
(string 6 0x00 ())
({ 1 0x00 ())
(ident, "output" 6 0x00 ())
(= 1 0x00 ())
(string, """" 2 0x00 ())
(; 1 0x00 ())
(int 3 0x00 ())
(ident, "i" 1 0x00 ())
(= 1 0x00 ())
(int, "0" 1 0x00 ())
(; 1 0x00 ())
(foreach 7 0x00 ())
(xml 3 0x00 ())
(ident, "elem" 4 0x00 ())
(in 2 0x00 ())
(ident, "bitOfText" 9 0x00 ())
({ 1 0x00 ())
(ident, "concatString" 12 0x00 ())
(( 1 0x00 ())
(ident, "elem" 4 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "i" 1 0x00 ())
(+ 1 0x00 ())
(= 1 0x00 ())
(int, "1" 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(return 6 0x00 ())
(ident, "output" 6 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(function 8 0x00 ())
(ident, "testXmlElementSequenceIteration" 31 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
({ 1 0x00 ())
(xml 3 0x00 ())
(ident, "el" 2 0x00 ())
(= 1 0x00 ())
(xml 3 0x00 ())
(` 1 0x00 ())
(templateString, "<foo>foo</foo>" 14 0x00 ())
(` 1 0x00 ())
(; 1 0x00 ())
(xml 3 0x00 ())
(< 1 0x00 ())
(ident, "'xml" 4 0x00 ())
(: 1 0x00 ())
(ident, "Element" 7 0x00 ())
(> 1 0x00 ())
(ident, "seq" 3 0x00 ())
(= 1 0x00 ())
(< 1 0x00 ())
(xml 3 0x00 ())
(< 1 0x00 ())
(ident, "'xml" 4 0x00 ())
(: 1 0x00 ())
(ident, "Element" 7 0x00 ())
(> 1 0x00 ())
(> 1 0x00 ())
(ident, "el" 2 0x00 ())
(. 1 0x00 ())
(ident, "concat" 6 0x00 ())
(( 1 0x00 ())
(xml 3 0x00 ())
(` 1 0x00 ())
(templateString, "<bar/>" 6 0x00 ())
(` 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "output" 6 0x00 ())
(= 1 0x00 ())
(string, """" 2 0x00 ())
(; 1 0x00 ())
(foreach 7 0x00 ())
(ident, "'xml" 4 0x00 ())
(: 1 0x00 ())
(ident, "Element" 7 0x00 ())
(ident, "elem" 4 0x00 ())
(in 2 0x00 ())
(ident, "seq" 3 0x00 ())
({ 1 0x00 ())
(ident, "concatString" 12 0x00 ())
(( 1 0x00 ())
(ident, "elem" 4 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(ident, "output" 6 0x00 ())
(, 1 0x00 ())
(string, ""<foo>foo</foo>" 15 0x00 ())
(ident, "\n" 2 0x00 (BCE0649 n))
(< 1 0x00 ())
(ident, "bar" 3 0x00 ())
(/ 1 0x00 ())
(> 1 0x00 ())
(ident, "\n" 2 0x00 (BCE0649 n))
(string, "");" 3 0x00 ())
(record 6 0x00 ())
({| 2 0x00 ())
(ident, "'xml" 4 0x00 ())
(: 1 0x00 ())
(ident, "Element" 7 0x00 ())
(ident, "value" 5 0x00 ())
(; 1 0x00 ())
(|} 2 0x00 ())
(? 1 0x00 ())
(ident, "nextElement1" 12 0x00 ())
(= 1 0x00 ())
(ident, "seq" 3 0x00 ())
(. 1 0x00 ())
(ident, "iterator" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "next" 4 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(ident, "nextElement1" 12 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(, 1 0x00 ())
(string, ""{\"value\":`<foo>foo</foo>`}"" 30 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(function 8 0x00 ())
(ident, "testXmlTextSequenceIteration" 28 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
({ 1 0x00 ())
(xml 3 0x00 ())
(< 1 0x00 ())
(ident, "'xml" 4 0x00 ())
(: 1 0x00 ())
(ident, "Text" 4 0x00 ())
(> 1 0x00 ())
(ident, "txt1" 4 0x00 ())
(= 1 0x00 ())
(xml 3 0x00 ())
(` 1 0x00 ())
(templateString, "bit of text\u2702\u2705" 23 0x00 ())
(` 1 0x00 ())
(; 1 0x00 ())
(ident, "'xml" 4 0x00 ())
(: 1 0x00 ())
(ident, "Text" 4 0x00 ())
(ident, "txt2" 4 0x00 ())
(= 1 0x00 ())
(xml 3 0x00 ())
(` 1 0x00 ())
(templateString, "bit of text\u2702\u2705" 23 0x00 ())
(` 1 0x00 ())
(; 1 0x00 ())
(ident, "output" 6 0x00 ())
(= 1 0x00 ())
(string, """" 2 0x00 ())
(; 1 0x00 ())
(foreach 7 0x00 ())
(ident, "'xml" 4 0x00 ())
(: 1 0x00 ())
(ident, "Text" 4 0x00 ())
(ident, "elem" 4 0x00 ())
(in 2 0x00 ())
(ident, "txt1" 4 0x00 ())
({ 1 0x00 ())
(ident, "concatString" 12 0x00 ())
(( 1 0x00 ())
(ident, "elem" 4 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(ident, "output" 6 0x00 ())
(, 1 0x00 ())
(string, ""bit of text" 12 0x00 ())
(ident, "\\u2702\\u2705\n" 16 0x00 (BCE0649 n))
(string, "");" 3 0x00 ())
(ident, "output" 6 0x00 ())
(= 1 0x00 ())
(string, """" 2 0x00 ())
(; 1 0x00 ())
(foreach 7 0x00 ())
(ident, "'xml" 4 0x00 ())
(: 1 0x00 ())
(ident, "Text" 4 0x00 ())
(ident, "elem" 4 0x00 ())
(in 2 0x00 ())
(ident, "txt2" 4 0x00 ())
({ 1 0x00 ())
(ident, "concatString" 12 0x00 ())
(( 1 0x00 ())
(ident, "elem" 4 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(} 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(ident, "output" 6 0x00 ())
(, 1 0x00 ())
(string, ""bit of text" 12 0x00 ())
(ident, "\\u2702\\u2705\n" 16 0x00 (BCE0649 n))
(string, "");" 3 0x00 ())
(record 6 0x00 ())
({| 2 0x00 ())
(ident, "'xml" 4 0x00 ())
(: 1 0x00 ())
(ident, "Text" 4 0x00 ())
(ident, "value" 5 0x00 ())
(; 1 0x00 ())
(|} 2 0x00 ())
(? 1 0x00 ())
(ident, "nextText1" 9 0x00 ())
(= 1 0x00 ())
(ident, "txt1" 4 0x00 ())
(. 1 0x00 ())
(ident, "iterator" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(. 1 0x00 ())
(ident, "next" 4 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(; 1 0x00 ())
(ident, "assert" 6 0x00 ())
(( 1 0x00 ())
(ident, "nextText1" 9 0x00 ())
(. 1 0x00 ())
(ident, "toString" 8 0x00 ())
(( 1 0x00 ())
() 1 0x00 ())
(, 1 0x00 ())
(string, ""{\"value\":`bit of text" 24 0x00 ())
(ident, "\\u2702\\u2705" 14 0x00 ())
(` 1 0x00 ())
(templateString, "}");

    record {| 'xml:Text value; |}? nextText2 = txt2.iterator().next();
    assert(nextText2.toString(), "{\"value\":" 122 0x00 ())
(` 1 0x00 ())
(ident, "bit" 3 0x00 ())
(ident, "of" 2 0x00 ())
(ident, "text\\u2702\\u2705" 18 0x00 ())
(` 1 0x00 ())
(templateString, "}");
}

function testXmlCommentSequenceIteration() {
     xml<'xml:Comment> comment1 = xml " 91 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(! 1 0x00 ())
(- 1 0x00 ())
(- 1 0x00 ())
(ident, "I" 1 0x00 ())
(ident, "am" 2 0x00 ())
(ident, "a" 1 0x00 ())
(ident, "comment" 7 0x00 ())
(- 1 0x00 ())
(-> 2 0x00 ())
(` 1 0x00 ())
(templateString, ";

     output = "";
     foreach 'xml:Comment elem in comment1 {
         concatString(elem.toString());
     }
     assert(output, "<!--I am a comment-->\n");

     record {| 'xml:Comment value; |}? nextComment1 = comment1.iterator().next();
     assert(nextComment1.toString(), "{\"value\":" 293 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(! 1 0x00 ())
(- 1 0x00 ())
(- 1 0x00 ())
(ident, "I" 1 0x00 ())
(ident, "am" 2 0x00 ())
(ident, "a" 1 0x00 ())
(ident, "comment" 7 0x00 ())
(- 1 0x00 ())
(-> 2 0x00 ())
(` 1 0x00 ())
(templateString, "}");
}

function testXmlPISequenceIteration() {
     xml<'xml:ProcessingInstruction> pi1 = xml " 95 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(? 1 0x00 ())
(ident, "target" 6 0x00 ())
(ident, "data" 4 0x00 ())
(? 1 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ";

     output = "";
     foreach 'xml:ProcessingInstruction elem in pi1 {
         concatString(elem.toString());
     }
     assert(output, "<?target data?>\n");

     record {| 'xml:ProcessingInstruction value; |}? nextPI1 = pi1.iterator().next();
     assert(nextPI1.toString(), "{\"value\":" 295 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(? 1 0x00 ())
(ident, "target" 6 0x00 ())
(ident, "data" 4 0x00 ())
(? 1 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, "}");
}

function testXmlUnionSequenceIteration() {
    xml el = xml " 68 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(ident, "foo" 3 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ";
    xml<'xml:Element|'xml:Text> seq = <xml<'xml:Element|'xml:Text>> el.concat(xml " 84 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "bar" 3 0x00 ())
(/ 1 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ");

    output = "";
    foreach 'xml:Element|'xml:Text elem in seq {
        concatString(elem.toString());
    }
    assert(output, "<foo>foo</foo>\n<bar/>\n");

    record {| 'xml:Element|'xml:Text value; |}? nextUnionXMLVal1 = seq.iterator().next();
    assert(nextUnionXMLVal1.toString(), "{\"value\":" 306 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(ident, "foo" 3 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, "}");
}

function testXmlSequenceIteration() {
    string v1 = "interpolation1";
    xml seq = xml " 98 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "root" 4 0x00 ())
(> 1 0x00 ())
({ 1 0x00 ())
({ 1 0x00 (BCE0600 &{{193 1 [] 0 <nil> <nil> 0 0} $}))
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(ident, "text1" 5 0x00 ())
(ident, "text2" 5 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(int, "123" 3 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "root" 4 0x00 ())
(> 1 0x00 ())
(ident, "text2" 5 0x00 ())
({ 1 0x00 ())
({ 1 0x00 (BCE0600 &{{193 1 [] 0 <nil> <nil> 0 0} $}))
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(< 1 0x00 ())
(! 1 0x00 ())
(- 1 0x00 ())
(- 1 0x00 ())
(ident, "comment" 7 0x00 ())
({ 1 0x00 ())
({ 1 0x00 (BCE0600 &{{193 1 [] 0 <nil> <nil> 0 0} $}))
(ident, "v1" 2 0x00 ())
(} 1 0x00 ())
(- 1 0x00 ())
(-> 2 0x00 ())
(ident, "text3" 5 0x00 ())
(< 1 0x00 ())
(? 1 0x00 ())
(ident, "foo" 3 0x00 ())
(? 1 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ";
    assert('xml:length(seq).toString(), "5");

    output = "";
    foreach 'xml:Element|'xml:Text|'xml:Comment|'xml:ProcessingInstruction  elem in seq {
        concatString(elem.toString());
    }
    assert(output, "<root>interpolation1 text1 text2<foo>123</foo><bar/></root>\ntext2interpolation1\n"+
    "<!--commentinterpolation1-->\ntext3\n<?foo ?>\n");

    output = "";
    foreach xml  elem in seq {
            concatString(elem.toString());
    }
    assert(output, "<root>interpolation1 text1 text2<foo>123</foo><bar/></root>\ntext2interpolation1\n"+
        "<!--commentinterpolation1-->\ntext3\n<?foo ?>\n");

    record {| 'xml:Element|'xml:Text|'xml:Comment|'xml:ProcessingInstruction value; |}? nextXMLVal1 = seq.iterator().next();
    assert(nextXMLVal1.toString(), "{\"value\":" 798 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "root" 4 0x00 ())
(> 1 0x00 ())
(ident, "interpolation1" 14 0x00 ())
(ident, "text1" 5 0x00 ())
(ident, "text2" 5 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(int, "123" 3 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "bar" 3 0x00 ())
(/ 1 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "root" 4 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, "}");

    record {| xml value; |}? nextXMLVal2 = seq.iterator().next();
    assert(nextXMLVal2.toString(), "{\"value\":" 119 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "root" 4 0x00 ())
(> 1 0x00 ())
(ident, "interpolation1" 14 0x00 ())
(ident, "text1" 5 0x00 ())
(ident, "text2" 5 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(int, "123" 3 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "bar" 3 0x00 ())
(/ 1 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "root" 4 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, "}");
}

function xmlTypeParamCommentIter() {
    'xml:Comment comment2 = xml " 77 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(! 1 0x00 ())
(- 1 0x00 ())
(- 1 0x00 ())
(ident, "I" 1 0x00 ())
(ident, "am" 2 0x00 ())
(ident, "a" 1 0x00 ())
(ident, "comment" 7 0x00 ())
(- 1 0x00 ())
(-> 2 0x00 ())
(` 1 0x00 ())
(templateString, ";
    record {| 'xml:Comment value; |}? nextComment2 = comment2.iterator().next();
    assert(nextComment2.toString(), "{\"value\":" 131 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(! 1 0x00 ())
(- 1 0x00 ())
(- 1 0x00 ())
(ident, "I" 1 0x00 ())
(ident, "am" 2 0x00 ())
(ident, "a" 1 0x00 ())
(ident, "comment" 7 0x00 ())
(- 1 0x00 ())
(-> 2 0x00 ())
(` 1 0x00 ())
(templateString, "}");
}

function xmlTypeParamElementIter() {
    'xml:Element el2 = xml " 72 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(ident, "foo" 3 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ";
    record {| 'xml:Element value; |}? nextElement2 = el2.iterator().next();
    assert(nextElement2.toString(), "{\"value\":" 126 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(ident, "foo" 3 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "foo" 3 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, "}");
}

function xmlTypeParamPIIter() {
    'xml:ProcessingInstruction pi2 = xml " 81 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(? 1 0x00 ())
(ident, "target" 6 0x00 ())
(ident, "data" 4 0x00 ())
(? 1 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ";
    record {| 'xml:ProcessingInstruction value; |}? nextPI2 = pi2.iterator().next();
    assert(nextPI2.toString(), "{\"value\":" 130 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(? 1 0x00 ())
(ident, "target" 6 0x00 ())
(ident, "data" 4 0x00 ())
(? 1 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, "}");
}

type XmlElement xml:Element;

function testSequenceOfSequenceOfXmlElementIteration() {
    xml<xml<xml:Element>> elements = xml " 136 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(/ 1 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(ident, "value" 5 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(int, "1" 1 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ";
    xml:Element[] arr = [];
    foreach var e1 in elements {
        arr.push(e1);
    }
    validateValues(arr);

    xml<xml<XmlElement>> elements2 = xml " 158 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(/ 1 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(ident, "value" 5 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(int, "1" 1 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ";
    arr = [];
    foreach var e2 in elements2 {
        arr.push(e2);
    }
    validateValues(arr);
}

function testSequenceOfSequenceOfReadonlyXmlElementIteration() {
    xml<xml<xml:Element & readonly>> elements = xml " 223 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(/ 1 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(ident, "value" 5 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(int, "1" 1 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ";
    xml:Element[] arr = [];
    foreach var e1 in elements {
        arr.push(e1);
    }
    validateValues(arr);

    xml<xml:Element & readonly> elements2 = xml " 165 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(/ 1 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(ident, "value" 5 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(int, "1" 1 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ";
    arr = [];
    foreach var e2 in elements2 {
        arr.push(e2);
    }
    validateValues(arr);
}

function testSequenceOfReadOnlyXmlSubTypeUnionIteration() {
    xml<(xml:Element|xml:Comment) & readonly> elements = xml " 227 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(/ 1 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(ident, "value" 5 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(int, "1" 1 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ";
    xml:Element[] arr = [];
    foreach (xml:Element|xml:Comment) & readonly e1 in elements {
        arr.push(<xml:Element> e1);
    }
    validateValues(arr);
}

function testSequenceOfReadOnlyXmlSubTypeUnionIteration2() {
    xml<(xml:Element & readonly|xml:Comment & readonly)> elements = xml " 299 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(/ 1 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(ident, "value" 5 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(< 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(int, "1" 1 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ";
    xml:Element[] arr = [];
    foreach var e1 in elements {
        arr.push(<xml:Element> e1);
    }
    validateValues(arr);
}

function validateValues(xml:Element[] arr) {
    assert(arr.length(), 3);
    assert(arr[0], xml " 230 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "foo" 3 0x00 ())
(/ 1 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ");
    assert(arr[1], xml " 26 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(ident, "value" 5 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "bar" 3 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ");
    assert(arr[2], xml " 26 0x00 ())
(` 1 0x00 ())
(< 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(int, "1" 1 0x00 ())
(< 1 0x00 ())
(/ 1 0x00 ())
(ident, "baz" 3 0x00 ())
(> 1 0x00 ())
(` 1 0x00 ())
(templateString, ");
}

function assert(anydata actual, anydata expected) {
    if (expected != actual) {
        typedesc<anydata> expT = typeof expected;
        typedesc<anydata> actT = typeof actual;
        string reason = "expected [" + expected.toString() + "] of type [" + expT.toString()
                            + "], but found [" + actual.toString() + "] of type [" + actT.toString() + "]";
        error e = error(reason);
        panic e;
    }
}
" 445 0x00 ())
(2 0 0x00 ())
